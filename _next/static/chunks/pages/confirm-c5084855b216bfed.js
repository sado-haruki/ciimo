(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{2061:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/confirm",function(){return t(6164)}])},8969:function(e,n,t){"use strict";var a=t(5893),c=t(8622),i=t.n(c);n.Z=function(e){e.topLink;return(0,a.jsx)("div",{className:i().header,children:(0,a.jsx)("span",{className:i().ciimo,children:"CIIMO"})})}},6164:function(e,n,t){"use strict";t.r(n);var a=t(5893),c=t(1163),i=t(7294),s=t(83),r=t.n(s),o=t(9669),l=t.n(o),d=t(8969);n.default=function(){var e=(0,c.useRouter)(),n=(0,i.useState)({}),t=n[0],s=n[1],o=(0,i.useState)({}),m=o[0],u=o[1];(0,i.useEffect)((function(){s(h(localStorage.getItem("reservation"))),u(h(localStorage.getItem("reservationSeat")))}),[]);var h=function(e){return null!==e?JSON.parse(e):""},f=function(e){var n,a,c,i;return null===(i=null===(c=null===(a=null===(n=e.film.find((function(e){return e.id===t.filmId})))||void 0===n?void 0:n.schedule.find((function(e){return e.id===t.scheduleId})))||void 0===a?void 0:a.seat.find((function(e){return e.row===m.row})))||void 0===c?void 0:c.column.find((function(e){return e.seatName===m.seatName})))||void 0===i?void 0:i.reserved},_=function(e){return e.film.find((function(e){return e.id===t.filmId})).schedule.find((function(e){return e.id===t.scheduleId})).seat.find((function(e){return e.row===m.row})).column.find((function(e){return e.seatName===m.seatName})).reserved=!0,e};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{}),(0,a.jsx)("div",{className:r().container,children:(0,a.jsxs)("main",{className:r().main,children:[(0,a.jsx)("div",{className:r().items,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:r().label,children:"\u6620\u753b\u9928"}),(0,a.jsx)("span",{className:r().item,children:t.theaterName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:r().label,children:"\u4f5c\u54c1"}),(0,a.jsx)("span",{className:r().item,children:t.filmName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:r().label,children:"\u4e0a\u6620\u65e5\u6642"}),(0,a.jsx)("span",{className:r().item,children:t.schedule})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:r().label,children:"\u5ea7\u5e2d"}),(0,a.jsxs)("span",{className:r().item,children:[m.row,"-",m.seatName]})]})]})}),(0,a.jsxs)("div",{className:r().buttons,children:[(0,a.jsx)("button",{onClick:function(){return e.push("../seatSelect")},className:r().back,children:"\u623b\u308b"}),(0,a.jsx)("button",{onClick:function(){l().get("http://localhost:5000/theater/".concat(t.theaterId)).then((function(n){if(!f(n.data)){var a=_(n.data);l().put("http://localhost:5000/theater/".concat(t.theaterId),{id:a.id,name:a.name,film:a.film}),e.push({pathname:"../complete",query:{paymentCode:"ABC".concat(t.theaterId).concat(t.filmId).concat(t.scheduleId).concat(m.row).concat(m.seatName)}})}})).catch((function(n){l().get("https://my-json-server.typicode.com/sado-haruki/dbjson/theater/".concat(t.theaterId)).then((function(n){if(!f(n.data)){var a=_(n.data);l().put("https://my-json-server.typicode.com/sado-haruki/dbjson/theater/".concat(t.theaterId),{id:a.id,name:a.name,film:a.film}),e.push({pathname:"../complete",query:{paymentCode:"ABC".concat(t.theaterId).concat(t.filmId).concat(t.scheduleId).concat(m.row).concat(m.seatName)}})}}))}))},className:r().complete,children:"\u4e88\u7d04\u3092\u78ba\u5b9a\u3059\u308b"})]})]})})]})}},8622:function(e){e.exports={header:"Header_header__Kpax6",ciimo:"Header_ciimo__2WVAt"}},83:function(e){e.exports={container:"confirm_container__nTVmj",main:"confirm_main__F8Pch",items:"confirm_items__jcbI4",label:"confirm_label__GJToG",item:"confirm_item__dIl6O",buttons:"confirm_buttons__U8QV6",back:"confirm_back__rPAQK",complete:"confirm_complete__vGs10"}},1163:function(e,n,t){e.exports=t(387)}},function(e){e.O(0,[669,774,888,179],(function(){return n=2061,e(e.s=n);var n}));var n=e.O();_N_E=n}]);