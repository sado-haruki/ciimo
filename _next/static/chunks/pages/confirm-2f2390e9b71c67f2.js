(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{2061:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/confirm",function(){return t(6164)}])},8969:function(e,n,t){"use strict";var i=t(5893),a=t(8622),c=t.n(a);n.Z=function(e){e.topLink;return(0,i.jsx)("div",{className:c().header,children:(0,i.jsx)("span",{className:c().ciimo,children:"CIIMO"})})}},6164:function(e,n,t){"use strict";t.r(n);var i=t(5893),a=t(1163),c=t(7294),s=t(83),r=t.n(s),l=t(9669),o=t.n(l),d=t(8969);n.default=function(){var e=(0,a.useRouter)(),n=(0,c.useState)({}),t=n[0],s=n[1],l=(0,c.useState)({}),u=l[0],m=l[1];(0,c.useEffect)((function(){s(f(localStorage.getItem("reservation"))),m(f(localStorage.getItem("reservationSeat")))}),[]);var f=function(e){return null!==e?JSON.parse(e):""};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{}),(0,i.jsx)("div",{className:r().container,children:(0,i.jsxs)("main",{className:r().main,children:[(0,i.jsx)("div",{className:r().items,children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:r().label,children:"\u6620\u753b\u9928"}),(0,i.jsx)("span",{className:r().item,children:t.theaterName})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:r().label,children:"\u4f5c\u54c1"}),(0,i.jsx)("span",{className:r().item,children:t.filmName})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:r().label,children:"\u4e0a\u6620\u65e5\u6642"}),(0,i.jsx)("span",{className:r().item,children:t.schedule})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:r().label,children:"\u5ea7\u5e2d"}),(0,i.jsxs)("span",{className:r().item,children:[u.row,"-",u.seatName]})]})]})}),(0,i.jsxs)("div",{className:r().buttons,children:[(0,i.jsx)("button",{onClick:function(){return e.push("seatSelect")},className:r().back,children:"\u623b\u308b"}),(0,i.jsx)("button",{onClick:function(){o().get("http://localhost:5000/theater/".concat(t.theaterId)).then((function(n){var i,a,c,s,r=n.data;(null===(s=null===(c=null===(a=null===(i=r.film.find((function(e){return e.id===t.filmId})))||void 0===i?void 0:i.schedule.find((function(e){return e.id===t.scheduleId})))||void 0===a?void 0:a.seat.find((function(e){return e.row===u.row})))||void 0===c?void 0:c.column.find((function(e){return e.seatName===u.seatName})))||void 0===s?void 0:s.reserved)||(r.film.find((function(e){return e.id===t.filmId})).schedule.find((function(e){return e.id===t.scheduleId})).seat.find((function(e){return e.row===u.row})).column.find((function(e){return e.seatName===u.seatName})).reserved=!0,o().put("http://localhost:5000/theater/".concat(t.theaterId),{id:r.id,name:r.name,film:r.film}),e.push({pathname:"complete",query:{paymentCode:"ABC".concat(t.theaterId).concat(t.filmId).concat(t.scheduleId).concat(u.row).concat(u.seatName)}}))}))},className:r().complete,children:"\u4e88\u7d04\u3092\u78ba\u5b9a\u3059\u308b"})]})]})})]})}},8622:function(e){e.exports={header:"Header_header__Kpax6",ciimo:"Header_ciimo__2WVAt"}},83:function(e){e.exports={container:"confirm_container__nTVmj",main:"confirm_main__F8Pch",items:"confirm_items__jcbI4",label:"confirm_label__GJToG",item:"confirm_item__dIl6O",buttons:"confirm_buttons__U8QV6",back:"confirm_back__rPAQK",complete:"confirm_complete__vGs10"}},1163:function(e,n,t){e.exports=t(387)}},function(e){e.O(0,[669,774,888,179],(function(){return n=2061,e(e.s=n);var n}));var n=e.O();_N_E=n}]);